<template name="UserSettingsProfile">
    <div class="page-container container" id="content">
        <div class="row" id="title_row">
            <div class="col-md-12">
                <div id="page_menu" class="pull-right">
                </div>
            </div>
        </div>
        {{#if errorMessage getPageSession}}
            <div class="alert alert-warning">
                {{errorMessage getPageSession}}
            </div>
        {{/if}}

        {{#if infoMessage getPageSession}}
            <div class="alert alert-success">
                {{infoMessage getPageSession}}
            </div>
        {{/if}}
        {{> UserSettingsProfileEditForm}}
    </div>
</template>

<template name="UserSettingsProfileEditForm">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">Your Settings</h3>
        </div>
        <form role="form">
            <div class="form-group  field-profile-name">
                <label for="profile.name">
                    Name
                </label>
                <div class="input-div">
                    <input type="text" name="profile.name" value="{{current_user_data.profile.name}}"
                           class="form-control " autofocus="autofocus" required="required" data-type="string">
                    <span id="help-text" class="help-block">
					</span>
                    <span id="error-text" class="help-block">
					</span>
                </div>
            </div>
            <div class="form-group  field-profile-website">
                <label for="profile.website">
                    Website URL
                </label>
                <div class="input-div">
                    <input type="text" name="profile.website" value="{{current_user_data.profile.website}}"
                           class="form-control " data-type="string">
                    <span id="help-text" class="help-block">
					</span>
                    <span id="error-text" class="help-block">
					</span>
                </div>
            </div>
            <div id="dataview-controls" class="form-group">
                <label for="appointmentStream">Appointments as ics stream (keep secret!)</label>
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-calendar" aria-hidden="true"></i></span>
                    <input name="appointmentStream" type="text" class="form-control" value="{{tokenUrl}}" readOnly>
                    <span class="input-group-btn" aria-hidden="true">
                            <button id="copy-button" class="btn btn-primary" type="submit">Copy</button>
                        </span>
                </div>
            </div>
            <div class="form-group">
                <div class="submit-div">
                    <button id="form-submit-button" class="btn btn-success" type="submit">
						<span class="fa fa-check">
						</span>
                        Save
                    </button>
                </div>
            </div>
        </form>
    </div>
</template>

